output_dir: "${paths._run_root}/fctm"
bitstream_name: "default"

#============================== Main configurations =========================================

verbosity: 0

coding_behaviour: "all"
device: "cpu"

enc_configs:
  qp: 27
  frame_rate: 30
  intra_period: 1
  n_bit: 10
  cfg_file: "use/local/path/of/vtm-12.0/cfg/encoder_intra_vtm.cfg"
  parallel_encoding: False # std inner codec parallel option
  hash_check: 0 # md5 hash check

tools:
  feature_reduction:  
    m65705: # Faster & Mask R-CNN working at fpn split
      enabled: False
      task: "obj" # or "seg"
    m65181: # YOLOv3 JDE
      enabled: False
      split_point: "ALT1" # or "DN53"
    m65704-o:
      enabled: False
      task: "obj" # or "seg"
    m65704-t:
      enabled: False
      split_point: "ALT1" # or "DN53"

  feature_restoration:  
    m65705: # R-CNN
      enabled: ${codec.tools.feature_reduction.m65705.enabled}
      task: ${codec.tools.feature_reduction.m65705.task}
    m65181: # YOLOv3 JDE
      enabled: ${codec.tools.feature_reduction.m65181.enabled}
      split_point: ${codec.tools.feature_reduction.m65181.split_point}
    m65704-o:
      enabled: ${codec.tools.feature_reduction.m65704-o.enabled}
      task: ${codec.tools.feature_reduction.m65704-o.task}
    m65704-t:
      enabled: ${codec.tools.feature_reduction.m65704-t.enabled}
      split_point: ${codec.tools.feature_reduction.m65704-t.split_point}
  conversion:
    bypass: False
    n_bit: ${codec.enc_configs.n_bit}
    packing:
      channels_in_width: -1
      channels_in_height: -1

  inner_codec:
    type: 'vtm'
    stash_outputs: True
    enc_configs: ${codec.enc_configs}
    enc_exe: "use/local/path/of/vtm-12.0/bin/EncoderAppStatic"
    dec_exe: "use/local/path/of/vtm-12.0/bin/DecoderAppStatic"
    merge_exe: "use/local/path/of/vtm-12.0/bin/parcatStatic"